var ma=Object.defineProperty,q=Object.getOwnPropertySymbols,ba=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,Y=(a,e,t)=>e in a?ma(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,na=(a,e)=>{for(var t in e||(e={}))ba.call(e,t)&&Y(a,t,e[t]);if(q)for(var t of q(e))ya.call(e,t)&&Y(a,t,e[t]);return a},v=(a,e,t)=>(Y(a,typeof e!="symbol"?e+"":e,t),t),ga={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};var ua=a=>`<div class="${a.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${a.grid}"><#Multiple><div class="${a.column}"><div class="${a.header}"><div class="${a.headerContent}"><#Month /><#Year /></div></div><div class="${a.wrapper}"><#WeekNumbers /><div class="${a.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,pa=a=>`<div class="${a.header}"><div class="${a.headerContent}"><#Month /><#Year /></div></div><div class="${a.wrapper}"><div class="${a.content}"><#Months /></div></div>`,wa=a=>`<div class="${a.header}"><#ArrowPrev /><div class="${a.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${a.wrapper}"><div class="${a.content}"><#Years /></div></div>`,N=class{constructor(){var e;v(this,"isInit",!1),v(this,"input",!1),v(this,"type","default"),v(this,"months",2),v(this,"jumpMonths",1),v(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),v(this,"settings",{lang:"en",iso8601:!0,range:{min:this.date.min,max:this.date.max,disablePast:!1,disableGaps:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),v(this,"locale",{months:[],weekday:[]}),v(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,hideCalendar:null,showCalendar:null}),v(this,"popups",{}),v(this,"CSSClasses",na({},ga)),v(this,"DOMTemplates",{default:(e=this.CSSClasses,`<div class="${e.header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:ua(this.CSSClasses),month:pa(this.CSSClasses),year:wa(this.CSSClasses)}),v(this,"HTMLElement"),v(this,"HTMLOriginalElement"),v(this,"HTMLInputElement"),v(this,"rangeMin"),v(this,"rangeMax"),v(this,"rangeDisabled"),v(this,"rangeEnabled"),v(this,"selectedDates"),v(this,"selectedHolidays"),v(this,"selectedMonth"),v(this,"selectedYear"),v(this,"selectedHours"),v(this,"selectedMinutes"),v(this,"selectedKeeping"),v(this,"selectedTime"),v(this,"currentType"),v(this,"correctMonths"),v(this,"viewYear"),v(this,"dateMin"),v(this,"dateMax")}},g=a=>`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,m=a=>new Date(`${a}T00:00:00`),S=a=>a.reduce((e,t)=>(t.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(t):t.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(l,n,r)=>{let d=m(n),i=m(r),c=new Date(d.getTime());for(;c<=i;c.setDate(c.getDate()+1))e.push(g(c));return l}),e),[]),C=a=>a?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(a)]||String(a):"",f={notFoundSelector:a=>`${a} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},fa=a=>{let e=a.settings.selected.month!==void 0&&Number(a.settings.selected.month)>=0&&Number(a.settings.selected.month)<12,t=a.settings.selected.year!==void 0&&Number(a.settings.selected.year)>=0&&Number(a.settings.selected.year)<=9999;a.selectedMonth=e?Number(a.settings.selected.month):a.date.today.getMonth(),a.selectedYear=t?Number(a.settings.selected.year):a.date.today.getFullYear(),a.viewYear=a.selectedYear},ka=a=>{var e,t,l;a.settings.range.min=m(a.date.min)>=m(a.settings.range.min)?a.date.min:a.settings.range.min,a.settings.range.max=m(a.date.max)<=m(a.settings.range.max)?a.date.max:a.settings.range.max;let n=a.settings.range.disablePast&&!a.settings.range.disableAllDays&&m(a.settings.range.min)<a.date.today;a.rangeMin=n||a.settings.range.disableAllDays?g(a.date.today):a.settings.range.min,a.rangeMax=a.settings.range.disableAllDays?g(a.date.today):a.settings.range.max,a.rangeDisabled=a.settings.range.disabled&&!a.settings.range.disableAllDays?S(a.settings.range.disabled):a.settings.range.disableAllDays?[a.rangeMin]:[],a.rangeDisabled.length>1&&a.rangeDisabled.sort((r,d)=>+new Date(r)-+new Date(d)),a.rangeEnabled=a.settings.range.enabled?S(a.settings.range.enabled):[],(e=a.rangeEnabled)!=null&&e[0]&&((t=a.rangeDisabled)!=null&&t[0])&&(a.rangeDisabled=a.rangeDisabled.filter(r=>!a.rangeEnabled.includes(r))),a.rangeEnabled.length>1&&a.rangeEnabled.sort((r,d)=>+new Date(r)-+new Date(d)),(l=a.rangeEnabled)!=null&&l[0]&&a.settings.range.disableAllDays&&(a.rangeMin=a.rangeEnabled[0],a.rangeMax=a.rangeEnabled[a.rangeEnabled.length-1])},Ma=a=>{var e,t;a.selectedDates=(e=a.settings.selected.dates)!=null&&e[0]?S(a.settings.selected.dates):[],a.selectedHolidays=(t=a.settings.selected.holidays)!=null&&t[0]?S(a.settings.selected.holidays):[]},Sa=a=>{a.dateMin=a.settings.visibility.disabled?m(a.date.min):m(a.rangeMin),a.dateMax=a.settings.visibility.disabled?m(a.date.max):m(a.rangeMax)},Ca=a=>{let e=a.settings.selection.time===!0||a.settings.selection.time===12;if(e||a.settings.selection.time===24){let t=!1;if(typeof a.settings.selected.time=="string"){let l=e?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;a.settings.selected.time.replace(l,(n,r,d,i)=>(r&&d&&(t=!0,a.selectedHours=r,a.selectedMinutes=d),i&&e?a.selectedKeeping=i:e&&(a.selectedKeeping="AM"),""))}!t&&e?(a.selectedHours=C(String(a.date.today.getHours())),a.selectedMinutes=String(a.date.today.getMinutes()),a.selectedKeeping=Number(a.date.today.getHours())>=12?"PM":"AM"):t||(a.selectedHours=String(a.date.today.getHours()),a.selectedMinutes=String(a.date.today.getMinutes())),a.selectedHours=Number(a.selectedHours)<10?`0${Number(a.selectedHours)}`:`${a.selectedHours}`,a.selectedMinutes=Number(a.selectedMinutes)<10?`0${Number(a.selectedMinutes)}`:`${a.selectedMinutes}`,a.selectedTime=`${a.selectedHours}:${a.selectedMinutes}${a.selectedKeeping?` ${a.selectedKeeping}`:""}`}else if(a.settings.selection.time)throw new Error(f.incorrectTime)},xa=a=>{a.correctMonths=a.type==="multiple"?a.months===1?2:a.months>12?12:a.months:1},ra=a=>{a.currentType=a.type,fa(a),ka(a),Ma(a),Sa(a),Ca(a),xa(a)},M=a=>({hide(){a.HTMLElement.classList.add(a.CSSClasses.calendarHidden),a.actions.hideCalendar&&a.actions.hideCalendar(a)},show(){a.HTMLElement.classList.remove(a.CSSClasses.calendarHidden),a.actions.showCalendar&&a.actions.showCalendar(a)},self:a}),K=({arrowPrev:a,arrowNext:e,isPrevHidden:t,isNextHidden:l})=>{a.style.visibility=t?"hidden":"",e.style.visibility=l?"hidden":""},j=a=>{var e,t;if(a.currentType==="month")return;let l=(e=a.HTMLElement)==null?void 0:e.querySelector(`.${a.CSSClasses.arrowPrev}`),n=(t=a.HTMLElement)==null?void 0:t.querySelector(`.${a.CSSClasses.arrowNext}`);!l||!n||{default:()=>{let r=m(g(new Date(a.selectedYear,a.selectedMonth,1))),d=new Date(r.getTime()),i=new Date(r.getTime());d.setMonth(d.getMonth()-a.jumpMonths),i.setMonth(i.getMonth()+a.jumpMonths),a.settings.selection.year||(a.dateMin.setFullYear(r.getFullYear()),a.dateMax.setFullYear(r.getFullYear()));let c=!a.settings.selection.month||d.getFullYear()<a.dateMin.getFullYear()||d.getFullYear()===a.dateMin.getFullYear()&&d.getMonth()<a.dateMin.getMonth(),s=!a.settings.selection.month||i.getFullYear()>a.dateMax.getFullYear()||i.getFullYear()===a.dateMax.getFullYear()&&i.getMonth()>a.dateMax.getMonth();K({arrowPrev:l,arrowNext:n,isPrevHidden:c,isNextHidden:s})},year:()=>{K({arrowPrev:l,arrowNext:n,isPrevHidden:a.dateMin.getFullYear()&&a.viewYear-7<=a.dateMin.getFullYear(),isNextHidden:a.dateMax.getFullYear()&&a.viewYear+7>=a.dateMax.getFullYear()})}}[a.currentType==="multiple"?"default":a.currentType]()},da=(a,e)=>{if(!a)return null;let t=m(a),l=e?t.getDay()||7:t.getDay();t.setDate(t.getDate()+4-l);let n=new Date(t.getFullYear(),0,1),r=Math.ceil(((+t-+n)/864e5+1)/7);return{year:t.getFullYear(),week:r}},Da=(a,e,t,l)=>{let n=t.querySelector(`[data-calendar-day="${a}"]`);n&&(e?.modifier&&n.classList.add(...e.modifier.trim().split(" ")),e?.html&&(n.parentElement.innerHTML+=`<div class="${l}">${e.html}</div>`))},Ta=(a,e)=>{var t;a.popups&&((t=Object.entries(a.popups))==null||t.forEach(([l,n])=>Da(l,n,e,a.CSSClasses.dayPopup)))},La=(a,e,t,l,n)=>{let r=e[t].querySelector(`.${a.CSSClasses.dayBtn}`),d=da(r?.dataset.calendarDay,a.settings.iso8601);if(!d)return;let i=l.cloneNode(!0);i.innerText=String(d.week),i.dataset.calendarYearWeek=String(d.year),n.append(i)},$a=(a,e,t,l,n)=>{if(!a.settings.visibility.weekNumbers)return;l.innerHTML="";let r=document.createElement("b");r.className=a.CSSClasses.weekNumbersTitle,r.innerText="#",l.append(r);let d=document.createElement("div");d.className=a.CSSClasses.weekNumbersContent,l.append(d);let i=document.createElement("button");i.type="button",i.className=a.CSSClasses.weekNumber;let c=n.querySelectorAll(`.${a.CSSClasses.day}`),s=Math.ceil((e+t)/7);for(let o=0;o<s;o++)La(a,c,o===0?6:7*o,i,d)},Ea=(a,e,t)=>{var l,n,r,d,i;let c=(l=a.settings.range.disableWeekday)==null?void 0:l.includes(t),s=a.settings.range.disableAllDays&&!!((n=a.rangeEnabled)!=null&&n[0]);!c&&!s||(r=a.rangeEnabled)!=null&&r.includes(e)||(d=a.rangeDisabled)!=null&&d.includes(e)||(a.rangeDisabled.push(e),(i=a.rangeDisabled)==null||i.sort((o,h)=>+new Date(o)-+new Date(h)))},Ha=(a,e,t,l,n,r,d)=>{var i,c,s;(m(a.rangeMin)>m(r)||m(a.rangeMax)<m(r)||(i=a.rangeDisabled)!=null&&i.includes(r)||!a.settings.selection.month&&d||!a.settings.selection.year&&m(r).getFullYear()!==e)&&(l.classList.add(a.CSSClasses.dayBtnDisabled),l.tabIndex=-1),a.settings.visibility.today&&g(a.date.today)===r&&l.classList.add(a.CSSClasses.dayBtnToday),!a.settings.visibility.weekend||n!==0&&n!==6||l.classList.add(a.CSSClasses.dayBtnWeekend),(c=a.selectedHolidays)!=null&&c.includes(r)&&l.classList.add(a.CSSClasses.dayBtnHoliday),(s=a.selectedDates)!=null&&s.includes(r)&&(l.classList.add(a.CSSClasses.dayBtnSelected),a.selectedDates.length>1&&a.settings.selection.day==="multiple-ranged"&&(a.selectedDates[0]===r&&t.classList.add(a.CSSClasses.daySelectedFirst),a.selectedDates[a.selectedDates.length-1]===r&&t.classList.add(a.CSSClasses.daySelectedLast),a.selectedDates[0]!==r&&a.selectedDates[a.selectedDates.length-1]!==r&&t.classList.add(a.CSSClasses.daySelectedIntermediate)))},z=(a,e,t,l,n,r,d,i)=>{let c=document.createElement("div");c.className=a.CSSClasses.day;let s=document.createElement("button");s.className=`${a.CSSClasses.dayBtn}${i?` ${i}`:""}`,s.type="button",s.innerText=String(l),s.dataset.calendarDay=r,a.settings.visibility.weekNumbers&&(()=>{let o=da(r,a.settings.iso8601);o&&(s.dataset.calendarWeekNumber=String(o.week))})(),d?a.settings.visibility.daysOutside&&c.append(s):c.append(s),Ea(a,r,n),Ha(a,e,c,s,n,r,d),t.append(c),a.actions.getDays&&a.actions.getDays(l,r,c,s,a)},Ya=(a,e,t,l,n)=>{let r=new Date(t,l,0).getDate()-(n-1),d=l===0?t-1:t,i=l===0?12:l<10?`0${l}`:l;for(let c=n;c>0;c--,r++){let s=`${d}-${i}-${r}`,o=m(s).getDay();z(a,t,e,r,o,s,!0,a.CSSClasses.dayBtnPrev)}},Na=(a,e,t,l,n)=>{for(let r=1;r<=t;r++){let d=new Date(l,n,r),i=g(d),c=d.getDay();z(a,l,e,r,c,i,!1,null)}},Aa=(a,e,t,l,n,r)=>{let d=r+t,i=7*Math.ceil(d/7)-d,c=n+1===12?l+1:l,s=n+1===12?"01":n+2<10?`0${n+2}`:n+2;for(let o=1;o<=i;o++){let h=`${c}-${s}-${o<10?`0${o}`:String(o)}`,b=m(h).getDay();z(a,l,e,o,b,h,!0,a.CSSClasses.dayBtnNext)}},T=a=>{let e=a.HTMLElement.querySelectorAll(`.${a.CSSClasses.days}`),t=a.HTMLElement.querySelectorAll(`.${a.CSSClasses.weekNumbers}`),l=new Date(a.selectedYear,a.selectedMonth,1);e.forEach((n,r)=>{let d=new Date(l);d.setMonth(d.getMonth()+r);let i=d.getMonth(),c=d.getFullYear(),s=new Date(c,i,1),o=new Date(c,i+1,0).getDate(),h=a.settings.iso8601?(s.getDay()!==0?s.getDay():7)-1:s.getDay();a.settings.selection.day&&n.classList.add(a.CSSClasses.daysSelecting),n.innerHTML="",Ya(a,n,c,i,h),Na(a,n,o,c,i),Aa(a,n,o,c,i,h),$a(a,h,o,t[r],n),Ta(a,n)})},Ia=(a,e,t,l)=>{let n=new Date(l.setMonth(a.selectedMonth+t)).getMonth(),r=a.settings.selection.month===!1||a.settings.selection.month==="only-arrows";e.tabIndex=r?-1:0,e.classList.toggle(a.CSSClasses.monthDisabled,r),e.setAttribute("data-calendar-selected-month",String(n)),e.innerText=a.locale.months[n]},Pa=(a,e,t,l)=>{let n=new Date(l.setFullYear(a.selectedYear,a.selectedMonth+t)).getFullYear(),r=a.settings.selection.year===!1||a.settings.selection.year==="only-arrows";e.tabIndex=r?-1:0,e.classList.toggle(a.CSSClasses.yearDisabled,r),e.setAttribute("data-calendar-selected-year",String(n)),e.innerText=String(n)},E=a=>{var e,t;let l=(e=a.HTMLElement)==null?void 0:e.querySelectorAll("[data-calendar-selected-month]"),n=(t=a.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-selected-year]");if(!l?.[0]&&n?.[0])return;let r=new Date(a.selectedYear,a.selectedMonth,1);l?.forEach((d,i)=>Ia(a,d,i,r)),n?.forEach((d,i)=>Pa(a,d,i,r))},A=(a,e)=>{let t=m(g(new Date(a.selectedYear,a.selectedMonth,1)));({prev:()=>t.setMonth(t.getMonth()-a.jumpMonths),next:()=>t.setMonth(t.getMonth()+a.jumpMonths)})[e](),[a.selectedMonth,a.selectedYear]=[t.getMonth(),t.getFullYear()],E(a),j(a),T(a)},ja=a=>`<button type="button"class="${a.CSSClasses.arrow} ${a.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,za=a=>`<button type="button"class="${a.CSSClasses.arrow} ${a.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,Fa=a=>`<button type="button"class="${a.CSSClasses.month}"data-calendar-selected-month></button>`,Wa=a=>`<button type="button"class="${a.CSSClasses.year}"data-calendar-selected-year></button>`,Oa=a=>`<div class="${a.CSSClasses.week}"></div>`,Ba=a=>`<div class="${a.CSSClasses.days}"></div>`,qa=a=>`<div class="${a.CSSClasses.months}"></div>`,Ka=a=>`<div class="${a.CSSClasses.years}"></div>`,Za=a=>a.settings.visibility.weekNumbers?`<div class="${a.CSSClasses.weekNumbers}"></div>`:"",Ra=a=>a.settings.selection.time?`<div class="${a.CSSClasses.time}"></div>`:"",Qa=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:za,ArrowPrev:ja,ControlTime:Ra,Days:Ba,Month:Fa,Months:qa,Week:Oa,WeekNumbers:Za,Year:Wa,Years:Ka},Symbol.toStringTag,{value:"Module"}));var k=(a,e)=>e.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(t,l)=>{let n=(r=l.replace(/[/\s\n\t]/g,""),Qa[r]);var r;return n?n(a):""}).replace(/[\n\t]/g,""),Ga=(a,e)=>e.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(t,l)=>{let n="";for(let r=0;r<a.correctMonths;r++)n+=l;return n}).replace(/[\n\t]/g,""),F=(a,e)=>{let{HTMLElement:t,CSSClasses:l,DOMTemplates:n,type:r,currentType:d,correctMonths:i}=a,c=(o,h)=>{if(!e)return;let b=t.querySelector(`.${l.controls}`);b&&t.removeChild(b),t.querySelector(`.${l.grid}`).classList.add(l.gridDisabled);let y=e.closest(`.${l.column}`);y.classList.add(o),y.innerHTML=k(a,h)},s={default:()=>{t.classList.add(l.calendarDefault),t.classList.remove(l.calendarMonth,l.calendarYear),t.innerHTML=k(a,n.default)},multiple:()=>{i&&(t.classList.add(l.calendarMultiple),t.classList.remove(l.calendarMonth,l.calendarYear),t.innerHTML=Ga(a,k(a,n.multiple)))},month:()=>{r!=="multiple"?(t.classList.add(l.calendarMonth),t.classList.remove(l.calendarDefault,l.calendarYear),t.innerHTML=k(a,n.month)):c(l.columnMonth,n.month)},year:()=>{r!=="multiple"?(t.classList.add(l.calendarYear),t.classList.remove(l.calendarDefault,l.calendarMonth),t.innerHTML=k(a,n.year)):c(l.columnYear,n.year)}};t.classList.add(l.calendar),s[d]()},Ua=(a,e,t,l,n)=>{let r=e.cloneNode(!1);return r.className=`${a.CSSClasses.yearsYear}${t===n?` ${a.CSSClasses.yearsYearSelected}`:l?` ${a.CSSClasses.yearsYearDisabled}`:""}`,r.dataset.calendarYear=String(n),r.title=String(n),r.innerText=String(n),l&&(r.tabIndex=-1),r},W=(a,e)=>{let t=e?.dataset.calendarSelectedYear?Number(e?.dataset.calendarSelectedYear):a.selectedYear;a.currentType="year",F(a,e),E(a),j(a);let l=a.HTMLElement.querySelector(`.${a.CSSClasses.years}`);if(!a.settings.selection.year||!l)return;l.classList.add(a.CSSClasses.yearsSelecting);let n=a.type!=="multiple"||a.selectedYear===t?0:1,r=document.createElement("button");r.type="button";for(let d=a.viewYear-7;d<a.viewYear+8;d++){let i=d<a.dateMin.getFullYear()+n||d>a.dateMax.getFullYear(),c=Ua(a,r,t,i,d);l.append(c),a.actions.getYears&&a.actions.getYears(d,c,a)}},Ja=(a,e)=>{let t=e.target.closest(`.${a.CSSClasses.arrow}`);t&&(["default","multiple"].includes(a.currentType)?A(a,t.dataset.calendarArrow):a.currentType==="year"&&a.viewYear!==void 0&&(a.viewYear+={prev:-15,next:15}[t.dataset.calendarArrow],W(a,e.target)),a.actions.clickArrow&&a.actions.clickArrow(e,a))},Va=(a,e)=>{var t;if(!a.settings.visibility.weekNumbers||!a.actions.clickWeekNumber)return;let l=e.target.closest(`.${a.CSSClasses.weekNumber}`),n=(t=a.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-week-number]");if(!l||!n)return;let r=Number(l.innerText),d=Number(l.dataset.calendarYearWeek),i=[...n].filter(c=>Number(c.dataset.calendarWeekNumber)===r);a.actions.clickWeekNumber(e,r,i,d,a)},ia=a=>`${a.charAt(0).toUpperCase()}${a.substring(1,a.length)}`.replace(/\./,""),Xa=(a,e)=>{let t=new Date(`1978-01-0${e+1}T00:00:00.000Z`).toLocaleString(a.settings.lang,{weekday:"short",timeZone:"UTC"});a.locale.weekday.push(ia(t))},ae=(a,e)=>{let t=new Date(`1978-${e+1<=9?`0${e+1}`:e+1}-01T00:00:00.000Z`).toLocaleString(a.settings.lang,{month:"long",timeZone:"UTC"});a.locale.months.push(ia(t))},ee=a=>{if(a.settings.lang!=="define"||!a.locale.weekday[6]||!a.locale.months[11]){if(a.settings.lang==="define")throw new Error(f.notLocale);a.locale.weekday=[],a.locale.months=[];for(let e=0;e<7;e++)Xa(a,e);for(let e=0;e<12;e++)ae(a,e)}},Z=a=>{if(a.type!=="multiple")return 0;let e=[...a.HTMLElement.querySelectorAll(`.${a.CSSClasses.column}`)].findIndex(t=>t.classList.contains(`${a.CSSClasses.columnMonth}`));return e>0?e:0},te=(a,e,t,l,n,r)=>{let d=e.cloneNode(!1);return d.className=`${a.CSSClasses.monthsMonth}${t===r?` ${a.CSSClasses.monthsMonthSelected}`:n?` ${a.CSSClasses.monthsMonthDisabled}`:""}`,d.title=l,d.innerText=`${a.settings.visibility.monthShort?l.substring(0,3):l}`,d.dataset.calendarMonth=String(r),n&&(d.tabIndex=-1),d},ca=(a,e)=>{var t,l;let n=e?.dataset.calendarSelectedMonth?Number(e.dataset.calendarSelectedMonth):a.selectedMonth,r=(t=e?.closest(`.${a.CSSClasses.column}`))==null?void 0:t.querySelector(`.${a.CSSClasses.year}`),d=r?Number(r.dataset.calendarSelectedYear):a.selectedYear;a.currentType="month",F(a,e),E(a);let i=(l=a.HTMLElement)==null?void 0:l.querySelector(`.${a.CSSClasses.months}`);if(!a.settings.selection.month||!i)return;i.classList.add(a.CSSClasses.monthsSelecting);let c=a.jumpMonths>1?a.locale.months.map((o,h)=>n-a.jumpMonths*h).concat(a.locale.months.map((o,h)=>n+a.jumpMonths*h)).filter(o=>o>=0&&o<=12):Array.from(Array(12).keys()),s=document.createElement("button");s.type="button";for(let o=0;o<12;o++){let h=a.locale.months[o],b=o<a.dateMin.getMonth()+Z(a)&&d<=a.dateMin.getFullYear()||o>a.dateMax.getMonth()+Z(a)&&d>=a.dateMax.getFullYear()||o!==n&&!c.includes(o),y=te(a,s,n,h,b,o);i.append(y),a.actions.getMonths&&a.actions.getMonths(o,y,a)}},O=(a,e)=>a&&e?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(a)][e]:"",D=(a,e,t)=>a.querySelector(`.${e}${t?` input[name="${t}"]`:""}`),R=(a,e,t)=>{a.addEventListener("mouseover",()=>e.classList.add(t)),a.addEventListener("mouseout",()=>e.classList.remove(t))},p=(a,e,t,l)=>{({hours:()=>{a.selectedHours=t},minutes:()=>{a.selectedMinutes=t}})[l](),a.selectedTime=`${a.selectedHours}:${a.selectedMinutes}${a.selectedKeeping?` ${a.selectedKeeping}`:""}`,a.actions.changeTime&&a.actions.changeTime(e,a),a.input&&a.HTMLInputElement&&a.actions.changeToInput&&a.actions.changeToInput(e,M(a),a)},Q=(a,e,t,l,n,r)=>{e.addEventListener("input",d=>{let i=d.target,c=Number(i.value),s=c<10?`0${c}`:`${c}`;if(n!=="hours"||r!==12)return t.value=s,void p(a,d,s,n);c<r&&c>0?(t.value=s,a.selectedKeeping="AM",l.innerText=a.selectedKeeping,p(a,d,s,n)):(c===0?(a.selectedKeeping="AM",l.innerText="AM"):(a.selectedKeeping="PM",l.innerText="PM"),t.value=C(i.value),p(a,d,C(i.value),n))})},G=(a,e,t,l,n,r)=>{t.addEventListener("change",d=>{let i=d.target,c=Number(i.value),s=c<10?`0${c}`:`${c}`;n==="hours"&&r===12?i.value&&c<=r&&c>0?(i.value=s,e.value=O(s,a.selectedKeeping),p(a,d,s,n)):i.value&&c<24&&(c>r||c===0)?(c===0?(a.selectedKeeping="AM",l.innerText="AM"):(a.selectedKeeping="PM",l.innerText="PM"),i.value=C(i.value),e.value=s,p(a,d,C(i.value),n)):i.value=a.selectedHours:i.value&&c<=r&&c>=0?(i.value=s,e.value=s,p(a,d,s,n)):n==="hours"?i.value=a.selectedHours:n==="minutes"&&(i.value=a.selectedMinutes)})},le=(a,e,t)=>{e.addEventListener("click",l=>{a.selectedKeeping=e.innerText.includes("AM")?"PM":"AM",e.innerText=a.selectedKeeping,t.value=O(a.selectedHours,a.selectedKeeping),p(a,l,a.selectedHours,"hours")})},ne=(a,e,t)=>{let l=t===24?23:t||12,n=D(e,a.CSSClasses.timeRange,"hours"),r=D(e,a.CSSClasses.timeRange,"minutes"),d=D(e,a.CSSClasses.timeHours,"hours"),i=D(e,a.CSSClasses.timeMinutes,"minutes"),c=e.querySelector(`.${a.CSSClasses.timeKeeping}`);R(n,d,a.CSSClasses.isFocus),R(r,i,a.CSSClasses.isFocus),Q(a,n,d,c,"hours",l),Q(a,r,i,c,"minutes",0),G(a,n,d,c,"hours",l),G(a,r,i,c,"minutes",59),c&&le(a,c,n)},U=(a,e,t,l)=>`<label class="${e}"><input type="text"name="${a}"maxlength="2"value="${t}"${l?"disabled":""}></label>`,J=(a,e,t,l,n,r)=>`<label class="${e}"><input type="range"name="${a}"min="${t}"max="${l}"step="${n}"value="${r}"></label>`,re=a=>{let e=a.HTMLElement.querySelector(`.${a.CSSClasses.time}`);if(!e)return;let t=a.settings.selection.time===!0?12:a.settings.selection.time,l=a.settings.selection.controlTime==="range",[n,r]=[0,23],[d,i]=[0,59];e.innerHTML=`<div class="${a.CSSClasses.timeContent}">${U("hours",a.CSSClasses.timeHours,a.selectedHours,l)}${U("minutes",a.CSSClasses.timeMinutes,a.selectedMinutes,l)}${t===12?`<button type="button" class="${a.CSSClasses.timeKeeping}"${l?"disabled":""}>${a.selectedKeeping}</button>`:""}</div><div class="${a.CSSClasses.timeRanges}">${J("hours",a.CSSClasses.timeRange,n,r,a.settings.selection.stepHours,a.selectedKeeping?O(a.selectedHours,a.selectedKeeping):a.selectedHours)}${J("minutes",a.CSSClasses.timeRange,d,i,a.settings.selection.stepMinutes,a.selectedMinutes)}</div>`,ne(a,e,t)},de=(a,e,t)=>{let l=document.createElement("b");e.innerHTML="";for(let n=0;n<t.length;n++){let r=t[n],d=l.cloneNode(!0);d.className=`${a.CSSClasses.weekDay}`,d.className=`${a.CSSClasses.weekDay}${a.settings.visibility.weekend&&a.settings.iso8601?n===5||n===6?` ${a.CSSClasses.weekDayWeekend}`:"":a.settings.visibility.weekend&&!a.settings.iso8601&&(n===0||n===6)?` ${a.CSSClasses.weekDayWeekend}`:""}`,d.innerText=`${r}`,e.append(d)}},V=a=>{let e=[...a.locale.weekday];e[0]&&(a.settings.iso8601&&e.push(e.shift()),a.HTMLElement.querySelectorAll(`.${a.CSSClasses.week}`).forEach(t=>de(a,t,e)))},sa=["light","dark","system"],L={value:!1,set:()=>{L.value=!0},check:()=>L.value},oa=(a,e)=>sa.find(t=>{var l;return t!=="system"&&((l=a.getAttribute(e))==null?void 0:l.includes(t))}),w=(a,e)=>{a.dataset.calendarTheme=e},X=(a,e)=>{var t;if(t=e,w(a.HTMLElement,t.matches?"dark":"light"),a.settings.visibility.theme!=="system"||L.check())return;let l=n=>{let r=document.querySelectorAll(`.${a.CSSClasses.calendar}`);r?.forEach(d=>w(d,n.matches?"dark":"light"))};e.addEventListener?e.addEventListener("change",l):e.addListener(l),L.set()},ie=(a,e,t)=>{new MutationObserver(l=>{for(let n=0;n<l.length;n++)if(l[n].attributeName===t){let r=oa(e,t);r&&w(a.HTMLElement,r);break}}).observe(e,{attributes:!0})},ce=(a,e)=>{let t=a.settings.visibility.themeDetect?document.querySelector(a.settings.visibility.themeDetect):null;if(!t)return void X(a,e);let l=a.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(r,d)=>d),n=oa(t,l);n?(w(a.HTMLElement,n),ie(a,t,l)):X(a,e)},se=a=>{if(!sa.includes(a.settings.visibility.theme))throw new Error(f.incorrectTheme);if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void w(a.HTMLElement,"light");({light:()=>w(a.HTMLElement,"light"),dark:()=>w(a.HTMLElement,"dark"),system:()=>ce(a,window.matchMedia("(prefers-color-scheme: dark)"))})[a.settings.visibility.theme]()},x=a=>{let e={default:()=>{V(a),T(a)},multiple:()=>{V(a),T(a)},month:()=>ca(a),year:()=>W(a)};se(a),ee(a),F(a),E(a),j(a),re(a),e[a.currentType]()},_={self:null,rangeMin:void 0,rangeMax:void 0},aa=()=>{var a;if(!((a=_.self)!=null&&a.HTMLElement))return;let{CSSClasses:e}=_.self;_.self.HTMLElement.querySelectorAll(`.${_.self.CSSClasses.dayBtnHover}`).forEach(t=>{var l;t.classList.remove(_.self.CSSClasses.dayBtnHover),(l=t.parentElement)==null||l.classList.remove(e.dayHoverIntermediate,e.dayHoverFirst,e.dayHoverLast)})},oe=(a,e,t)=>{var l,n,r;if(!((l=_.self)!=null&&l.selectedDates))return;let d=g(a),{CSSClasses:i}=_.self;if((n=_.self.rangeDisabled)!=null&&n.includes(d))return;let c=(r=_.self.HTMLElement)==null?void 0:r.querySelectorAll(`[data-calendar-day="${d}"]`);c?.forEach(s=>{var o;s.classList.add(i.dayBtnHover),(o=s.parentElement)==null||o.classList.add(i.dayHoverIntermediate)}),e?.forEach(s=>{var o;return(o=s.parentElement)==null?void 0:o.classList.add(i.dayHoverFirst)}),t?.forEach(s=>{var o;return(o=s.parentElement)==null?void 0:o.classList.add(i.dayHoverLast)})},I=a=>{var e;if(!a.target||!((e=_.self)!=null&&e.selectedDates))return;if(!a.target.closest(`.${_.self.CSSClasses.days}`))return void aa();let t=a.target.closest("[data-calendar-day]");if(!t)return;let l=t.dataset.calendarDay,n=m(_.self.selectedDates[0]),r=m(l),d=_.self.HTMLElement.querySelectorAll(`[data-calendar-day="${_.self.selectedDates[0]}"]`),i=_.self.HTMLElement.querySelectorAll(`[data-calendar-day="${l}"]`),[c,s]=n<r?[d,i]:[i,d],[o,h]=n<r?[n,r]:[r,n];aa();for(let b=new Date(o);b<=h;b.setDate(b.getDate()+1))oe(b,c,s)},P=a=>{_.self&&a.key==="Escape"&&(_.self.selectedDates=[],_.self.HTMLElement.removeEventListener("mousemove",I),document.removeEventListener("keydown",P),x(_.self))},_e=()=>{var a,e,t;if(!((e=(a=_.self)==null?void 0:a.selectedDates)!=null&&e[0])||!_.self.rangeDisabled||((t=_.self.rangeDisabled)==null?void 0:t.length)<2)return;let l=m(_.self.selectedDates[0]),[n,r]=_.self.rangeDisabled.map(d=>m(d)).reduce(([d,i],c)=>[l>=c?c:d,l<c&&i===null?c:i],[null,null]);n&&(_.self.rangeMin=g(new Date(n.setDate(n.getDate()+1)))),r&&(_.self.rangeMax=g(new Date(r.setDate(r.getDate()-1))))};var _a=(a,e)=>{var t;if(e){let l=a.selectedDates.length===1&&a.selectedDates[0].includes(e);a.selectedDates=l&&!a.settings.selection.cancelableDay?[e,e]:l&&a.settings.selection.cancelableDay?[]:a.selectedDates.length>1?[e]:[...a.selectedDates,e],(t=a.selectedDates)==null||t.sort((n,r)=>+new Date(n)-+new Date(r))}a.settings.range.disableGaps&&(_.rangeMin=_.rangeMin?_.rangeMin:a.rangeMin,_.rangeMax=_.rangeMax?_.rangeMax:a.rangeMax),_.self=a,{set:()=>{a.HTMLElement.addEventListener("mousemove",I),document.addEventListener("keydown",P),a.settings.range.disableGaps&&_e()},reset:()=>{let[l,n]=[a.selectedDates[0],a.selectedDates[a.selectedDates.length-1]];a.selectedDates=a.selectedDates[0]!==a.selectedDates[a.selectedDates.length-1]?S([`${l}:${n}`]):[a.selectedDates[0],a.selectedDates[0]],a.HTMLElement.removeEventListener("mousemove",I),document.removeEventListener("keydown",P),a.settings.range.disableGaps&&_.self&&(_.self.rangeMin=_.rangeMin,_.self.rangeMax=_.rangeMax)}}[a.selectedDates.length===1?"set":"reset"]()},ea=(a,e,t)=>{if(!e.dataset.calendarDay)return;let l=e.dataset.calendarDay,n=e.classList.contains(a.CSSClasses.dayBtnSelected);n&&!a.settings.selection.cancelableDay||(a.selectedDates=n?a.selectedDates.filter(r=>r!==l):t?[...a.selectedDates,l]:[l])},ve=(a,e)=>{var t;let l=e.target,n=c=>l.closest(`.${c}`),r=n(a.CSSClasses.dayBtn);if(!a.settings.selection.day||!["single","multiple","multiple-ranged"].includes(a.settings.selection.day)||!r)return;({single:()=>ea(a,r,!1),multiple:()=>ea(a,r,!0),"multiple-ranged":()=>_a(a,r.dataset.calendarDay)})[a.settings.selection.day](),(t=a.selectedDates)==null||t.sort((c,s)=>+new Date(c)-+new Date(s)),a.actions.clickDay&&a.actions.clickDay(e,a),a.input&&a.HTMLInputElement&&a.HTMLElement&&a.actions.changeToInput&&a.actions.changeToInput(e,M(a),a);let d=n(a.CSSClasses.dayBtnPrev),i=n(a.CSSClasses.dayBtnNext);({prev:()=>A(a,"prev"),next:()=>A(a,"next"),default:()=>T(a)})[d?"prev":i?"next":"default"]()},ta=(a,e,t,l,n)=>{let r=a.HTMLElement.querySelectorAll(`.${a.CSSClasses.column}`),d=[...r].findIndex(c=>c.classList.contains(e)),i=Number(r[d].querySelector(`.${t}`).getAttribute(n));return a.currentType==="month"&&d>=0?l-d:a.currentType==="year"&&a.selectedYear!==i?l-1:l},he=(a,e,t,l,n)=>{let r={year:()=>{var d,i;return(i=(d=a.actions).clickYear)==null?void 0:i.call(d,e,a)},month:()=>{var d,i;return(i=(d=a.actions).clickMonth)==null?void 0:i.call(d,e,a)}};({year:()=>{if(a.type==="multiple"){let d=ta(a,a.CSSClasses.columnYear,a.CSSClasses.year,Number(n.dataset.calendarYear),"data-calendar-selected-year"),i=a.selectedMonth<a.dateMin.getMonth()&&d<=a.dateMin.getFullYear(),c=a.selectedMonth>a.dateMax.getMonth()&&d>=a.dateMax.getFullYear(),s=d<a.dateMin.getFullYear(),o=d>a.dateMax.getFullYear();i||s?(a.selectedYear=a.dateMin.getFullYear(),a.selectedMonth=a.dateMin.getMonth()):c||o?(a.selectedYear=a.dateMax.getFullYear(),a.selectedMonth=a.dateMax.getMonth()):a.selectedYear=d}else a.selectedYear=Number(n.dataset.calendarYear)},month:()=>{if(a.type==="multiple"){let d=ta(a,a.CSSClasses.columnMonth,a.CSSClasses.month,Number(n.dataset.calendarMonth),"data-calendar-selected-month"),i=n.closest(`.${l.column}`).querySelector(`.${a.CSSClasses.year}`);a.selectedYear=Number(i.dataset.calendarSelectedYear);let c=d<a.dateMin.getMonth()&&a.selectedYear<=a.dateMin.getFullYear(),s=d>a.dateMax.getMonth()&&a.selectedYear>=a.dateMax.getFullYear();a.selectedMonth=c?a.dateMin.getMonth():s?a.dateMax.getMonth():d}else a.selectedMonth=Number(n.dataset.calendarMonth)}})[t](),r[t](),a.currentType=a.type,x(a)},la=(a,e,t,l)=>{if(!a.settings.selection[t])return;let n=e.target,r=o=>n.closest(`.${o}`),d=r(l.header),i=r(l.item),c=r(a.CSSClasses.grid),s=r(a.CSSClasses.column);a.currentType!==t&&d?{year:()=>W(a,n),month:()=>ca(a,n)}[t]():i?he(a,e,t,l,i):(a.currentType===t&&d||a.type==="multiple"&&a.currentType===t&&c&&!s)&&(a.currentType=a.type,x(a))},va=a=>{let e=t=>{Ja(a,t),Va(a,t),ve(a,t),la(a,t,"month",{header:a.CSSClasses.month,item:a.CSSClasses.monthsMonth,column:a.CSSClasses.columnMonth}),la(a,t,"year",{header:a.CSSClasses.year,item:a.CSSClasses.yearsYear,column:a.CSSClasses.columnYear})};return a.HTMLElement.addEventListener("click",e),()=>a.HTMLElement.removeEventListener("click",e)},ha=(a,{year:e,month:t,dates:l,holidays:n,time:r}={})=>{var d;if(!a.isInit)throw new Error(f.notInit);let i=na({},a.settings.selected);a.settings.selected.year=e?i.year:a.selectedYear,a.settings.selected.month=t?i.month:a.selectedMonth,a.settings.selected.holidays=n?i.holidays:a.selectedHolidays,a.settings.selected.time=r?i.time:a.selectedTime,a.settings.selected.dates=l==="only-first"&&((d=a.selectedDates)!=null&&d[0])?[a.selectedDates[0]]:l===!0?i.dates:a.selectedDates,ra(a),x(a),a.settings.selected=i,a.settings.selection.day==="multiple-ranged"&&l&&_a(a)},H=(a,e,t,l)=>{let n={top:-e.offsetHeight,bottom:a.offsetHeight,left:0,center:a.offsetWidth/2-e.offsetWidth/2,right:a.offsetWidth-e.offsetWidth},r=Array.isArray(t)?t[0]:"bottom",d=Array.isArray(t)?t[1]:t;e.classList.add(r==="bottom"?l.calendarToInputBottom:l.calendarToInputTop);let i=a.getBoundingClientRect(),c=window.scrollX||document.documentElement.scrollLeft,s=window.scrollY||document.documentElement.scrollTop,o=i.top+s+n[r],h=i.left+c+n[d];Object.assign(e.style,{left:`${h}px`,top:`${o}px`})},me=a=>{let e=!0,t=[];a.HTMLInputElement=a.HTMLElement;let l=()=>H(a.HTMLInputElement,a.HTMLElement,a.settings.visibility.positionToInput,a.CSSClasses),n=r=>{var d;a&&r.target!==a.HTMLInputElement&&!((d=a.HTMLElement)!=null&&d.contains(r.target))&&(a.HTMLInputElement&&a.HTMLElement&&M(a).hide(),window.removeEventListener("resize",l),document.removeEventListener("click",n,{capture:!0}))};return a.HTMLInputElement.addEventListener("click",()=>{e?t.push((()=>{let r=document.createElement("div");return r.className=`${a.CSSClasses.calendar} ${a.CSSClasses.calendarToInput} ${a.CSSClasses.calendarHidden}`,a.HTMLElement=r,document.body.append(a.HTMLElement),e=!1,setTimeout(()=>{H(a.HTMLInputElement,r,a.settings.visibility.positionToInput,a.CSSClasses),M(a).show()},0),ha(a,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),va(a)})()):(H(a.HTMLInputElement,a.HTMLElement,a.settings.visibility.positionToInput,a.CSSClasses),M(a).show()),window.addEventListener("resize",l),document.addEventListener("click",n,{capture:!0})}),()=>{t.forEach(r=>r())}};var be=a=>{var e,t,l,n;if(!a.isInit)throw new Error(f.notInit);a.input?((t=(e=a.HTMLElement)==null?void 0:e.parentElement)==null||t.removeChild(a.HTMLElement),(l=a.HTMLInputElement)==null||l.replaceWith(a.HTMLOriginalElement),a.HTMLInputElement=void 0):(n=a.HTMLElement)==null||n.replaceWith(a.HTMLOriginalElement),a.HTMLElement=a.HTMLOriginalElement},$=class extends N{constructor(e,t){if(super(),v(this,"init",()=>{return(n=this).HTMLOriginalElement=n.HTMLElement.cloneNode(!0),n.isInit=!0,n.input?me(n):(ra(n),x(n),va(n));var n}),v(this,"update",n=>ha(this,n)),v(this,"destroy",()=>be(this)),this.HTMLElement=typeof e=="string"?document.querySelector(e):e,!this.HTMLElement)throw new Error(f.notFoundSelector(e));if(!t)return;let l=(n,r)=>{Object.keys(r).forEach(d=>{typeof n[d]!="object"||typeof r[d]!="object"||r[d]instanceof Date?n[d]=r[d]:l(n[d],r[d])})};l(this,t)}};function ye({state:a,isLive:e,isLiveDebounced:t,isLiveOnBlur:l,liveDebounce:n,type:r,months:d,jumpMonths:i,date:c,settings:s,locale:o}){return{state:a,vanillaCalendar:null,currentCalendarInstance:null,init:function(){this.state===null||this.state===""||this.setState(this.state);let h={type:r,months:d,jumpMonths:i,date:c,settings:s,locale:o,input:!0,actions:{changeToInput:(b,y,u)=>{u.HTMLInputElement&&(this.currentCalendarInstance=y,u.selectedDates[0]?(u.HTMLInputElement.value=u.selectedDates[0],this.currentCalendarInstance.hide()):u.HTMLInputElement.value="")},clickDay:(b,y)=>{this.prepareState(y.selectedDates,y.selectedTime),this.currentCalendarInstance?.hide()},changeTime:(b,y)=>{this.prepareState(y.selectedDates,y.selectedTime)}}};(e||t||l)&&new MutationObserver(()=>this.isOpen()?null:this.commitState()).observe(this.$refs.vanillaCalendar,{attributes:!0,childList:!0}),this.vanillaCalendar=new $(this.$refs.vanillaCalendar,h),this.vanillaCalendar.init()},prepareState:function(h,b){let y=typeof h<"u"&&h.length>0?h[0]:this.currentDate(),u=typeof b<"u"?b:new Date().getHours(),B=`${y} ${u}`;this.setState(B),!(l||!(e||t))&&setTimeout(()=>{this.state===B&&this.commitState()},t?n:250)},currentDate:function(){return new Date().toISOString().slice(0,10)},setState:function(h){this.state=h,this.$refs.vanillaCalendar.value=h},isOpen:function(){let h=document.querySelector(".vanilla-calendar");return typeof h>"u"?!1:h.classList.contains("vanilla-calendar_hidden")},commitState:function(){JSON.stringify(this.$wire.__instance.canonical)!==JSON.stringify(this.$wire.__instance.ephemeral)&&this.$wire.$commit()}}}export{ye as default};
/*! Bundled license information:

vanilla-calendar-pro/build/vanilla-calendar.min.mjs:
  (*! name: vanilla-calendar-pro | url: https://github.com/uvarov-frontend/vanilla-calendar-pro *)
*/
