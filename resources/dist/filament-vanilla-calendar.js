var ha=Object.defineProperty,B=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,ba=Object.prototype.propertyIsEnumerable,H=(a,e,t)=>e in a?ha(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,la=(a,e)=>{for(var t in e||(e={}))ma.call(e,t)&&H(a,t,e[t]);if(B)for(var t of B(e))ba.call(e,t)&&H(a,t,e[t]);return a},v=(a,e,t)=>(H(a,typeof e!="symbol"?e+"":e,t),t),ya={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",calendarToInputTop:"vanilla-calendar_to-input_top",calendarToInputBottom:"vanilla-calendar_to-input_bottom",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",dayHoverFirst:"vanilla-calendar-day_hover-first",dayHoverLast:"vanilla-calendar-day_hover-last",dayHoverIntermediate:"vanilla-calendar-day_hover-intermediate",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};var ga=a=>`<div class="${a.controls}"><#ArrowPrev /><#ArrowNext /></div><div class="${a.grid}"><#Multiple><div class="${a.column}"><div class="${a.header}"><div class="${a.headerContent}"><#Month /><#Year /></div></div><div class="${a.wrapper}"><#WeekNumbers /><div class="${a.content}"><#Week /><#Days /></div></div></div><#/Multiple></div><#ControlTime />`,ua=a=>`<div class="${a.header}"><div class="${a.headerContent}"><#Month /><#Year /></div></div><div class="${a.wrapper}"><div class="${a.content}"><#Months /></div></div>`,pa=a=>`<div class="${a.header}"><#ArrowPrev /><div class="${a.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${a.wrapper}"><div class="${a.content}"><#Years /></div></div>`,Y=class{constructor(){var e;v(this,"isInit",!1),v(this,"input",!1),v(this,"type","default"),v(this,"months",2),v(this,"jumpMonths",1),v(this,"date",{min:"1970-01-01",max:"2470-12-31",today:new Date}),v(this,"settings",{lang:"en",iso8601:!0,range:{min:this.date.min,max:this.date.max,disablePast:!1,disableGaps:!1,disableAllDays:!1,disableWeekday:void 0,disabled:void 0,enabled:void 0},selection:{day:"single",month:!0,year:!0,time:!1,controlTime:"all",stepHours:1,stepMinutes:1,cancelableDay:!0},selected:{dates:void 0,month:void 0,year:void 0,holidays:void 0,time:void 0},visibility:{theme:"system",themeDetect:"html[data-theme]",monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,disabled:!1,daysOutside:!0,positionToInput:"left"}}),v(this,"locale",{months:[],weekday:[]}),v(this,"actions",{clickDay:null,clickWeekNumber:null,clickMonth:null,clickYear:null,clickArrow:null,changeTime:null,changeToInput:null,getDays:null,getMonths:null,getYears:null,hideCalendar:null,showCalendar:null}),v(this,"popups",{}),v(this,"CSSClasses",la({},ya)),v(this,"DOMTemplates",{default:(e=this.CSSClasses,`<div class="${e.header}"><#ArrowPrev /><div class="${e.headerContent}"><#Month /><#Year /></div><#ArrowNext /></div><div class="${e.wrapper}"><#WeekNumbers /><div class="${e.content}"><#Week /><#Days /></div></div><#ControlTime />`),multiple:ga(this.CSSClasses),month:ua(this.CSSClasses),year:pa(this.CSSClasses)}),v(this,"HTMLElement"),v(this,"HTMLOriginalElement"),v(this,"HTMLInputElement"),v(this,"rangeMin"),v(this,"rangeMax"),v(this,"rangeDisabled"),v(this,"rangeEnabled"),v(this,"selectedDates"),v(this,"selectedHolidays"),v(this,"selectedMonth"),v(this,"selectedYear"),v(this,"selectedHours"),v(this,"selectedMinutes"),v(this,"selectedKeeping"),v(this,"selectedTime"),v(this,"currentType"),v(this,"correctMonths"),v(this,"viewYear"),v(this,"dateMin"),v(this,"dateMax")}},g=a=>`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,m=a=>new Date(`${a}T00:00:00`),M=a=>a.reduce((e,t)=>(t.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(t):t.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(l,n,r)=>{let d=m(n),i=m(r),c=new Date(d.getTime());for(;c<=i;c.setDate(c.getDate()+1))e.push(g(c));return l}),e),[]),S=a=>a?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(a)]||String(a):"",w={notFoundSelector:a=>`${a} is not found, check the first argument passed to new VanillaCalendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:'You specified "define" for "settings.lang" but did not provide the required values for "locale.weekday" or "locale.months".',incorrectTheme:'Incorrect name of theme in "settings.visibility.theme".',incorrectTime:"The value of the time property can be: false, true, 12 or 24."},wa=a=>{let e=a.settings.selected.month!==void 0&&Number(a.settings.selected.month)>=0&&Number(a.settings.selected.month)<12,t=a.settings.selected.year!==void 0&&Number(a.settings.selected.year)>=0&&Number(a.settings.selected.year)<=9999;a.selectedMonth=e?Number(a.settings.selected.month):a.date.today.getMonth(),a.selectedYear=t?Number(a.settings.selected.year):a.date.today.getFullYear(),a.viewYear=a.selectedYear},fa=a=>{var e,t,l;a.settings.range.min=m(a.date.min)>=m(a.settings.range.min)?a.date.min:a.settings.range.min,a.settings.range.max=m(a.date.max)<=m(a.settings.range.max)?a.date.max:a.settings.range.max;let n=a.settings.range.disablePast&&!a.settings.range.disableAllDays&&m(a.settings.range.min)<a.date.today;a.rangeMin=n||a.settings.range.disableAllDays?g(a.date.today):a.settings.range.min,a.rangeMax=a.settings.range.disableAllDays?g(a.date.today):a.settings.range.max,a.rangeDisabled=a.settings.range.disabled&&!a.settings.range.disableAllDays?M(a.settings.range.disabled):a.settings.range.disableAllDays?[a.rangeMin]:[],a.rangeDisabled.length>1&&a.rangeDisabled.sort((r,d)=>+new Date(r)-+new Date(d)),a.rangeEnabled=a.settings.range.enabled?M(a.settings.range.enabled):[],(e=a.rangeEnabled)!=null&&e[0]&&((t=a.rangeDisabled)!=null&&t[0])&&(a.rangeDisabled=a.rangeDisabled.filter(r=>!a.rangeEnabled.includes(r))),a.rangeEnabled.length>1&&a.rangeEnabled.sort((r,d)=>+new Date(r)-+new Date(d)),(l=a.rangeEnabled)!=null&&l[0]&&a.settings.range.disableAllDays&&(a.rangeMin=a.rangeEnabled[0],a.rangeMax=a.rangeEnabled[a.rangeEnabled.length-1])},ka=a=>{var e,t;a.selectedDates=(e=a.settings.selected.dates)!=null&&e[0]?M(a.settings.selected.dates):[],a.selectedHolidays=(t=a.settings.selected.holidays)!=null&&t[0]?M(a.settings.selected.holidays):[]},Ma=a=>{a.dateMin=a.settings.visibility.disabled?m(a.date.min):m(a.rangeMin),a.dateMax=a.settings.visibility.disabled?m(a.date.max):m(a.rangeMax)},Sa=a=>{let e=a.settings.selection.time===!0||a.settings.selection.time===12;if(e||a.settings.selection.time===24){let t=!1;if(typeof a.settings.selected.time=="string"){let l=e?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;a.settings.selected.time.replace(l,(n,r,d,i)=>(r&&d&&(t=!0,a.selectedHours=r,a.selectedMinutes=d),i&&e?a.selectedKeeping=i:e&&(a.selectedKeeping="AM"),""))}!t&&e?(a.selectedHours=S(String(a.date.today.getHours())),a.selectedMinutes=String(a.date.today.getMinutes()),a.selectedKeeping=Number(a.date.today.getHours())>=12?"PM":"AM"):t||(a.selectedHours=String(a.date.today.getHours()),a.selectedMinutes=String(a.date.today.getMinutes())),a.selectedHours=Number(a.selectedHours)<10?`0${Number(a.selectedHours)}`:`${a.selectedHours}`,a.selectedMinutes=Number(a.selectedMinutes)<10?`0${Number(a.selectedMinutes)}`:`${a.selectedMinutes}`,a.selectedTime=`${a.selectedHours}:${a.selectedMinutes}${a.selectedKeeping?` ${a.selectedKeeping}`:""}`}else if(a.settings.selection.time)throw new Error(w.incorrectTime)},Ca=a=>{a.correctMonths=a.type==="multiple"?a.months===1?2:a.months>12?12:a.months:1},na=a=>{a.currentType=a.type,wa(a),fa(a),ka(a),Ma(a),Sa(a),Ca(a)},k=a=>({hide(){a.HTMLElement.classList.add(a.CSSClasses.calendarHidden),a.actions.hideCalendar&&a.actions.hideCalendar(a)},show(){a.HTMLElement.classList.remove(a.CSSClasses.calendarHidden),a.actions.showCalendar&&a.actions.showCalendar(a)},self:a}),q=({arrowPrev:a,arrowNext:e,isPrevHidden:t,isNextHidden:l})=>{a.style.visibility=t?"hidden":"",e.style.visibility=l?"hidden":""},P=a=>{var e,t;if(a.currentType==="month")return;let l=(e=a.HTMLElement)==null?void 0:e.querySelector(`.${a.CSSClasses.arrowPrev}`),n=(t=a.HTMLElement)==null?void 0:t.querySelector(`.${a.CSSClasses.arrowNext}`);!l||!n||{default:()=>{let r=m(g(new Date(a.selectedYear,a.selectedMonth,1))),d=new Date(r.getTime()),i=new Date(r.getTime());d.setMonth(d.getMonth()-a.jumpMonths),i.setMonth(i.getMonth()+a.jumpMonths),a.settings.selection.year||(a.dateMin.setFullYear(r.getFullYear()),a.dateMax.setFullYear(r.getFullYear()));let c=!a.settings.selection.month||d.getFullYear()<a.dateMin.getFullYear()||d.getFullYear()===a.dateMin.getFullYear()&&d.getMonth()<a.dateMin.getMonth(),o=!a.settings.selection.month||i.getFullYear()>a.dateMax.getFullYear()||i.getFullYear()===a.dateMax.getFullYear()&&i.getMonth()>a.dateMax.getMonth();q({arrowPrev:l,arrowNext:n,isPrevHidden:c,isNextHidden:o})},year:()=>{q({arrowPrev:l,arrowNext:n,isPrevHidden:a.dateMin.getFullYear()&&a.viewYear-7<=a.dateMin.getFullYear(),isNextHidden:a.dateMax.getFullYear()&&a.viewYear+7>=a.dateMax.getFullYear()})}}[a.currentType==="multiple"?"default":a.currentType]()},ra=(a,e)=>{if(!a)return null;let t=m(a),l=e?t.getDay()||7:t.getDay();t.setDate(t.getDate()+4-l);let n=new Date(t.getFullYear(),0,1),r=Math.ceil(((+t-+n)/864e5+1)/7);return{year:t.getFullYear(),week:r}},xa=(a,e,t,l)=>{let n=t.querySelector(`[data-calendar-day="${a}"]`);n&&(e?.modifier&&n.classList.add(...e.modifier.trim().split(" ")),e?.html&&(n.parentElement.innerHTML+=`<div class="${l}">${e.html}</div>`))},Da=(a,e)=>{var t;a.popups&&((t=Object.entries(a.popups))==null||t.forEach(([l,n])=>xa(l,n,e,a.CSSClasses.dayPopup)))},Ta=(a,e,t,l,n)=>{let r=e[t].querySelector(`.${a.CSSClasses.dayBtn}`),d=ra(r?.dataset.calendarDay,a.settings.iso8601);if(!d)return;let i=l.cloneNode(!0);i.innerText=String(d.week),i.dataset.calendarYearWeek=String(d.year),n.append(i)},La=(a,e,t,l,n)=>{if(!a.settings.visibility.weekNumbers)return;l.innerHTML="";let r=document.createElement("b");r.className=a.CSSClasses.weekNumbersTitle,r.innerText="#",l.append(r);let d=document.createElement("div");d.className=a.CSSClasses.weekNumbersContent,l.append(d);let i=document.createElement("button");i.type="button",i.className=a.CSSClasses.weekNumber;let c=n.querySelectorAll(`.${a.CSSClasses.day}`),o=Math.ceil((e+t)/7);for(let s=0;s<o;s++)Ta(a,c,s===0?6:7*s,i,d)},$a=(a,e,t)=>{var l,n,r,d,i;let c=(l=a.settings.range.disableWeekday)==null?void 0:l.includes(t),o=a.settings.range.disableAllDays&&!!((n=a.rangeEnabled)!=null&&n[0]);!c&&!o||(r=a.rangeEnabled)!=null&&r.includes(e)||(d=a.rangeDisabled)!=null&&d.includes(e)||(a.rangeDisabled.push(e),(i=a.rangeDisabled)==null||i.sort((s,h)=>+new Date(s)-+new Date(h)))},Ea=(a,e,t,l,n,r,d)=>{var i,c,o;(m(a.rangeMin)>m(r)||m(a.rangeMax)<m(r)||(i=a.rangeDisabled)!=null&&i.includes(r)||!a.settings.selection.month&&d||!a.settings.selection.year&&m(r).getFullYear()!==e)&&(l.classList.add(a.CSSClasses.dayBtnDisabled),l.tabIndex=-1),a.settings.visibility.today&&g(a.date.today)===r&&l.classList.add(a.CSSClasses.dayBtnToday),!a.settings.visibility.weekend||n!==0&&n!==6||l.classList.add(a.CSSClasses.dayBtnWeekend),(c=a.selectedHolidays)!=null&&c.includes(r)&&l.classList.add(a.CSSClasses.dayBtnHoliday),(o=a.selectedDates)!=null&&o.includes(r)&&(l.classList.add(a.CSSClasses.dayBtnSelected),a.selectedDates.length>1&&a.settings.selection.day==="multiple-ranged"&&(a.selectedDates[0]===r&&t.classList.add(a.CSSClasses.daySelectedFirst),a.selectedDates[a.selectedDates.length-1]===r&&t.classList.add(a.CSSClasses.daySelectedLast),a.selectedDates[0]!==r&&a.selectedDates[a.selectedDates.length-1]!==r&&t.classList.add(a.CSSClasses.daySelectedIntermediate)))},j=(a,e,t,l,n,r,d,i)=>{let c=document.createElement("div");c.className=a.CSSClasses.day;let o=document.createElement("button");o.className=`${a.CSSClasses.dayBtn}${i?` ${i}`:""}`,o.type="button",o.innerText=String(l),o.dataset.calendarDay=r,a.settings.visibility.weekNumbers&&(()=>{let s=ra(r,a.settings.iso8601);s&&(o.dataset.calendarWeekNumber=String(s.week))})(),d?a.settings.visibility.daysOutside&&c.append(o):c.append(o),$a(a,r,n),Ea(a,e,c,o,n,r,d),t.append(c),a.actions.getDays&&a.actions.getDays(l,r,c,o,a)},Ha=(a,e,t,l,n)=>{let r=new Date(t,l,0).getDate()-(n-1),d=l===0?t-1:t,i=l===0?12:l<10?`0${l}`:l;for(let c=n;c>0;c--,r++){let o=`${d}-${i}-${r}`,s=m(o).getDay();j(a,t,e,r,s,o,!0,a.CSSClasses.dayBtnPrev)}},Ya=(a,e,t,l,n)=>{for(let r=1;r<=t;r++){let d=new Date(l,n,r),i=g(d),c=d.getDay();j(a,l,e,r,c,i,!1,null)}},Na=(a,e,t,l,n,r)=>{let d=r+t,i=7*Math.ceil(d/7)-d,c=n+1===12?l+1:l,o=n+1===12?"01":n+2<10?`0${n+2}`:n+2;for(let s=1;s<=i;s++){let h=`${c}-${o}-${s<10?`0${s}`:String(s)}`,b=m(h).getDay();j(a,l,e,s,b,h,!0,a.CSSClasses.dayBtnNext)}},D=a=>{let e=a.HTMLElement.querySelectorAll(`.${a.CSSClasses.days}`),t=a.HTMLElement.querySelectorAll(`.${a.CSSClasses.weekNumbers}`),l=new Date(a.selectedYear,a.selectedMonth,1);e.forEach((n,r)=>{let d=new Date(l);d.setMonth(d.getMonth()+r);let i=d.getMonth(),c=d.getFullYear(),o=new Date(c,i,1),s=new Date(c,i+1,0).getDate(),h=a.settings.iso8601?(o.getDay()!==0?o.getDay():7)-1:o.getDay();a.settings.selection.day&&n.classList.add(a.CSSClasses.daysSelecting),n.innerHTML="",Ha(a,n,c,i,h),Ya(a,n,s,c,i),Na(a,n,s,c,i,h),La(a,h,s,t[r],n),Da(a,n)})},Aa=(a,e,t,l)=>{let n=new Date(l.setMonth(a.selectedMonth+t)).getMonth(),r=a.settings.selection.month===!1||a.settings.selection.month==="only-arrows";e.tabIndex=r?-1:0,e.classList.toggle(a.CSSClasses.monthDisabled,r),e.setAttribute("data-calendar-selected-month",String(n)),e.innerText=a.locale.months[n]},Ia=(a,e,t,l)=>{let n=new Date(l.setFullYear(a.selectedYear,a.selectedMonth+t)).getFullYear(),r=a.settings.selection.year===!1||a.settings.selection.year==="only-arrows";e.tabIndex=r?-1:0,e.classList.toggle(a.CSSClasses.yearDisabled,r),e.setAttribute("data-calendar-selected-year",String(n)),e.innerText=String(n)},$=a=>{var e,t;let l=(e=a.HTMLElement)==null?void 0:e.querySelectorAll("[data-calendar-selected-month]"),n=(t=a.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-selected-year]");if(!l?.[0]&&n?.[0])return;let r=new Date(a.selectedYear,a.selectedMonth,1);l?.forEach((d,i)=>Aa(a,d,i,r)),n?.forEach((d,i)=>Ia(a,d,i,r))},N=(a,e)=>{let t=m(g(new Date(a.selectedYear,a.selectedMonth,1)));({prev:()=>t.setMonth(t.getMonth()-a.jumpMonths),next:()=>t.setMonth(t.getMonth()+a.jumpMonths)})[e](),[a.selectedMonth,a.selectedYear]=[t.getMonth(),t.getFullYear()],$(a),P(a),D(a)},Pa=a=>`<button type="button"class="${a.CSSClasses.arrow} ${a.CSSClasses.arrowPrev}"data-calendar-arrow="prev"></button>`,ja=a=>`<button type="button"class="${a.CSSClasses.arrow} ${a.CSSClasses.arrowNext}"data-calendar-arrow="next"></button>`,za=a=>`<button type="button"class="${a.CSSClasses.month}"data-calendar-selected-month></button>`,Fa=a=>`<button type="button"class="${a.CSSClasses.year}"data-calendar-selected-year></button>`,Wa=a=>`<div class="${a.CSSClasses.week}"></div>`,Oa=a=>`<div class="${a.CSSClasses.days}"></div>`,Ba=a=>`<div class="${a.CSSClasses.months}"></div>`,qa=a=>`<div class="${a.CSSClasses.years}"></div>`,Ka=a=>a.settings.visibility.weekNumbers?`<div class="${a.CSSClasses.weekNumbers}"></div>`:"",Za=a=>a.settings.selection.time?`<div class="${a.CSSClasses.time}"></div>`:"",Ra=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:ja,ArrowPrev:Pa,ControlTime:Za,Days:Oa,Month:za,Months:Ba,Week:Wa,WeekNumbers:Ka,Year:Fa,Years:qa},Symbol.toStringTag,{value:"Module"}));var f=(a,e)=>e.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(t,l)=>{let n=(r=l.replace(/[/\s\n\t]/g,""),Ra[r]);var r;return n?n(a):""}).replace(/[\n\t]/g,""),Qa=(a,e)=>e.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(t,l)=>{let n="";for(let r=0;r<a.correctMonths;r++)n+=l;return n}).replace(/[\n\t]/g,""),z=(a,e)=>{let{HTMLElement:t,CSSClasses:l,DOMTemplates:n,type:r,currentType:d,correctMonths:i}=a,c=(s,h)=>{if(!e)return;let b=t.querySelector(`.${l.controls}`);b&&t.removeChild(b),t.querySelector(`.${l.grid}`).classList.add(l.gridDisabled);let y=e.closest(`.${l.column}`);y.classList.add(s),y.innerHTML=f(a,h)},o={default:()=>{t.classList.add(l.calendarDefault),t.classList.remove(l.calendarMonth,l.calendarYear),t.innerHTML=f(a,n.default)},multiple:()=>{i&&(t.classList.add(l.calendarMultiple),t.classList.remove(l.calendarMonth,l.calendarYear),t.innerHTML=Qa(a,f(a,n.multiple)))},month:()=>{r!=="multiple"?(t.classList.add(l.calendarMonth),t.classList.remove(l.calendarDefault,l.calendarYear),t.innerHTML=f(a,n.month)):c(l.columnMonth,n.month)},year:()=>{r!=="multiple"?(t.classList.add(l.calendarYear),t.classList.remove(l.calendarDefault,l.calendarMonth),t.innerHTML=f(a,n.year)):c(l.columnYear,n.year)}};t.classList.add(l.calendar),o[d]()},Ga=(a,e,t,l,n)=>{let r=e.cloneNode(!1);return r.className=`${a.CSSClasses.yearsYear}${t===n?` ${a.CSSClasses.yearsYearSelected}`:l?` ${a.CSSClasses.yearsYearDisabled}`:""}`,r.dataset.calendarYear=String(n),r.title=String(n),r.innerText=String(n),l&&(r.tabIndex=-1),r},F=(a,e)=>{let t=e?.dataset.calendarSelectedYear?Number(e?.dataset.calendarSelectedYear):a.selectedYear;a.currentType="year",z(a,e),$(a),P(a);let l=a.HTMLElement.querySelector(`.${a.CSSClasses.years}`);if(!a.settings.selection.year||!l)return;l.classList.add(a.CSSClasses.yearsSelecting);let n=a.type!=="multiple"||a.selectedYear===t?0:1,r=document.createElement("button");r.type="button";for(let d=a.viewYear-7;d<a.viewYear+8;d++){let i=d<a.dateMin.getFullYear()+n||d>a.dateMax.getFullYear(),c=Ga(a,r,t,i,d);l.append(c),a.actions.getYears&&a.actions.getYears(d,c,a)}},Ua=(a,e)=>{let t=e.target.closest(`.${a.CSSClasses.arrow}`);t&&(["default","multiple"].includes(a.currentType)?N(a,t.dataset.calendarArrow):a.currentType==="year"&&a.viewYear!==void 0&&(a.viewYear+={prev:-15,next:15}[t.dataset.calendarArrow],F(a,e.target)),a.actions.clickArrow&&a.actions.clickArrow(e,a))},Ja=(a,e)=>{var t;if(!a.settings.visibility.weekNumbers||!a.actions.clickWeekNumber)return;let l=e.target.closest(`.${a.CSSClasses.weekNumber}`),n=(t=a.HTMLElement)==null?void 0:t.querySelectorAll("[data-calendar-week-number]");if(!l||!n)return;let r=Number(l.innerText),d=Number(l.dataset.calendarYearWeek),i=[...n].filter(c=>Number(c.dataset.calendarWeekNumber)===r);a.actions.clickWeekNumber(e,r,i,d,a)},da=a=>`${a.charAt(0).toUpperCase()}${a.substring(1,a.length)}`.replace(/\./,""),Va=(a,e)=>{let t=new Date(`1978-01-0${e+1}T00:00:00.000Z`).toLocaleString(a.settings.lang,{weekday:"short",timeZone:"UTC"});a.locale.weekday.push(da(t))},Xa=(a,e)=>{let t=new Date(`1978-${e+1<=9?`0${e+1}`:e+1}-01T00:00:00.000Z`).toLocaleString(a.settings.lang,{month:"long",timeZone:"UTC"});a.locale.months.push(da(t))},ae=a=>{if(a.settings.lang!=="define"||!a.locale.weekday[6]||!a.locale.months[11]){if(a.settings.lang==="define")throw new Error(w.notLocale);a.locale.weekday=[],a.locale.months=[];for(let e=0;e<7;e++)Va(a,e);for(let e=0;e<12;e++)Xa(a,e)}},K=a=>{if(a.type!=="multiple")return 0;let e=[...a.HTMLElement.querySelectorAll(`.${a.CSSClasses.column}`)].findIndex(t=>t.classList.contains(`${a.CSSClasses.columnMonth}`));return e>0?e:0},ee=(a,e,t,l,n,r)=>{let d=e.cloneNode(!1);return d.className=`${a.CSSClasses.monthsMonth}${t===r?` ${a.CSSClasses.monthsMonthSelected}`:n?` ${a.CSSClasses.monthsMonthDisabled}`:""}`,d.title=l,d.innerText=`${a.settings.visibility.monthShort?l.substring(0,3):l}`,d.dataset.calendarMonth=String(r),n&&(d.tabIndex=-1),d},ia=(a,e)=>{var t,l;let n=e?.dataset.calendarSelectedMonth?Number(e.dataset.calendarSelectedMonth):a.selectedMonth,r=(t=e?.closest(`.${a.CSSClasses.column}`))==null?void 0:t.querySelector(`.${a.CSSClasses.year}`),d=r?Number(r.dataset.calendarSelectedYear):a.selectedYear;a.currentType="month",z(a,e),$(a);let i=(l=a.HTMLElement)==null?void 0:l.querySelector(`.${a.CSSClasses.months}`);if(!a.settings.selection.month||!i)return;i.classList.add(a.CSSClasses.monthsSelecting);let c=a.jumpMonths>1?a.locale.months.map((s,h)=>n-a.jumpMonths*h).concat(a.locale.months.map((s,h)=>n+a.jumpMonths*h)).filter(s=>s>=0&&s<=12):Array.from(Array(12).keys()),o=document.createElement("button");o.type="button";for(let s=0;s<12;s++){let h=a.locale.months[s],b=s<a.dateMin.getMonth()+K(a)&&d<=a.dateMin.getFullYear()||s>a.dateMax.getMonth()+K(a)&&d>=a.dateMax.getFullYear()||s!==n&&!c.includes(s),y=ee(a,o,n,h,b,s);i.append(y),a.actions.getMonths&&a.actions.getMonths(s,y,a)}},W=(a,e)=>a&&e?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(a)][e]:"",x=(a,e,t)=>a.querySelector(`.${e}${t?` input[name="${t}"]`:""}`),Z=(a,e,t)=>{a.addEventListener("mouseover",()=>e.classList.add(t)),a.addEventListener("mouseout",()=>e.classList.remove(t))},u=(a,e,t,l)=>{({hours:()=>{a.selectedHours=t},minutes:()=>{a.selectedMinutes=t}})[l](),a.selectedTime=`${a.selectedHours}:${a.selectedMinutes}${a.selectedKeeping?` ${a.selectedKeeping}`:""}`,a.actions.changeTime&&a.actions.changeTime(e,a),a.input&&a.HTMLInputElement&&a.actions.changeToInput&&a.actions.changeToInput(e,k(a),a)},R=(a,e,t,l,n,r)=>{e.addEventListener("input",d=>{let i=d.target,c=Number(i.value),o=c<10?`0${c}`:`${c}`;if(n!=="hours"||r!==12)return t.value=o,void u(a,d,o,n);c<r&&c>0?(t.value=o,a.selectedKeeping="AM",l.innerText=a.selectedKeeping,u(a,d,o,n)):(c===0?(a.selectedKeeping="AM",l.innerText="AM"):(a.selectedKeeping="PM",l.innerText="PM"),t.value=S(i.value),u(a,d,S(i.value),n))})},Q=(a,e,t,l,n,r)=>{t.addEventListener("change",d=>{let i=d.target,c=Number(i.value),o=c<10?`0${c}`:`${c}`;n==="hours"&&r===12?i.value&&c<=r&&c>0?(i.value=o,e.value=W(o,a.selectedKeeping),u(a,d,o,n)):i.value&&c<24&&(c>r||c===0)?(c===0?(a.selectedKeeping="AM",l.innerText="AM"):(a.selectedKeeping="PM",l.innerText="PM"),i.value=S(i.value),e.value=o,u(a,d,S(i.value),n)):i.value=a.selectedHours:i.value&&c<=r&&c>=0?(i.value=o,e.value=o,u(a,d,o,n)):n==="hours"?i.value=a.selectedHours:n==="minutes"&&(i.value=a.selectedMinutes)})},te=(a,e,t)=>{e.addEventListener("click",l=>{a.selectedKeeping=e.innerText.includes("AM")?"PM":"AM",e.innerText=a.selectedKeeping,t.value=W(a.selectedHours,a.selectedKeeping),u(a,l,a.selectedHours,"hours")})},le=(a,e,t)=>{let l=t===24?23:t||12,n=x(e,a.CSSClasses.timeRange,"hours"),r=x(e,a.CSSClasses.timeRange,"minutes"),d=x(e,a.CSSClasses.timeHours,"hours"),i=x(e,a.CSSClasses.timeMinutes,"minutes"),c=e.querySelector(`.${a.CSSClasses.timeKeeping}`);Z(n,d,a.CSSClasses.isFocus),Z(r,i,a.CSSClasses.isFocus),R(a,n,d,c,"hours",l),R(a,r,i,c,"minutes",0),Q(a,n,d,c,"hours",l),Q(a,r,i,c,"minutes",59),c&&te(a,c,n)},G=(a,e,t,l)=>`<label class="${e}"><input type="text"name="${a}"maxlength="2"value="${t}"${l?"disabled":""}></label>`,U=(a,e,t,l,n,r)=>`<label class="${e}"><input type="range"name="${a}"min="${t}"max="${l}"step="${n}"value="${r}"></label>`,ne=a=>{let e=a.HTMLElement.querySelector(`.${a.CSSClasses.time}`);if(!e)return;let t=a.settings.selection.time===!0?12:a.settings.selection.time,l=a.settings.selection.controlTime==="range",[n,r]=[0,23],[d,i]=[0,59];e.innerHTML=`<div class="${a.CSSClasses.timeContent}">${G("hours",a.CSSClasses.timeHours,a.selectedHours,l)}${G("minutes",a.CSSClasses.timeMinutes,a.selectedMinutes,l)}${t===12?`<button type="button" class="${a.CSSClasses.timeKeeping}"${l?"disabled":""}>${a.selectedKeeping}</button>`:""}</div><div class="${a.CSSClasses.timeRanges}">${U("hours",a.CSSClasses.timeRange,n,r,a.settings.selection.stepHours,a.selectedKeeping?W(a.selectedHours,a.selectedKeeping):a.selectedHours)}${U("minutes",a.CSSClasses.timeRange,d,i,a.settings.selection.stepMinutes,a.selectedMinutes)}</div>`,le(a,e,t)},re=(a,e,t)=>{let l=document.createElement("b");e.innerHTML="";for(let n=0;n<t.length;n++){let r=t[n],d=l.cloneNode(!0);d.className=`${a.CSSClasses.weekDay}`,d.className=`${a.CSSClasses.weekDay}${a.settings.visibility.weekend&&a.settings.iso8601?n===5||n===6?` ${a.CSSClasses.weekDayWeekend}`:"":a.settings.visibility.weekend&&!a.settings.iso8601&&(n===0||n===6)?` ${a.CSSClasses.weekDayWeekend}`:""}`,d.innerText=`${r}`,e.append(d)}},J=a=>{let e=[...a.locale.weekday];e[0]&&(a.settings.iso8601&&e.push(e.shift()),a.HTMLElement.querySelectorAll(`.${a.CSSClasses.week}`).forEach(t=>re(a,t,e)))},ca=["light","dark","system"],T={value:!1,set:()=>{T.value=!0},check:()=>T.value},sa=(a,e)=>ca.find(t=>{var l;return t!=="system"&&((l=a.getAttribute(e))==null?void 0:l.includes(t))}),p=(a,e)=>{a.dataset.calendarTheme=e},V=(a,e)=>{var t;if(t=e,p(a.HTMLElement,t.matches?"dark":"light"),a.settings.visibility.theme!=="system"||T.check())return;let l=n=>{let r=document.querySelectorAll(`.${a.CSSClasses.calendar}`);r?.forEach(d=>p(d,n.matches?"dark":"light"))};e.addEventListener?e.addEventListener("change",l):e.addListener(l),T.set()},de=(a,e,t)=>{new MutationObserver(l=>{for(let n=0;n<l.length;n++)if(l[n].attributeName===t){let r=sa(e,t);r&&p(a.HTMLElement,r);break}}).observe(e,{attributes:!0})},ie=(a,e)=>{let t=a.settings.visibility.themeDetect?document.querySelector(a.settings.visibility.themeDetect):null;if(!t)return void V(a,e);let l=a.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,(r,d)=>d),n=sa(t,l);n?(p(a.HTMLElement,n),de(a,t,l)):V(a,e)},ce=a=>{if(!ca.includes(a.settings.visibility.theme))throw new Error(w.incorrectTheme);if(window.matchMedia("(prefers-color-scheme)").media==="not all")return void p(a.HTMLElement,"light");({light:()=>p(a.HTMLElement,"light"),dark:()=>p(a.HTMLElement,"dark"),system:()=>ie(a,window.matchMedia("(prefers-color-scheme: dark)"))})[a.settings.visibility.theme]()},C=a=>{let e={default:()=>{J(a),D(a)},multiple:()=>{J(a),D(a)},month:()=>ia(a),year:()=>F(a)};ce(a),ae(a),z(a),$(a),P(a),ne(a),e[a.currentType]()},_={self:null,rangeMin:void 0,rangeMax:void 0},X=()=>{var a;if(!((a=_.self)!=null&&a.HTMLElement))return;let{CSSClasses:e}=_.self;_.self.HTMLElement.querySelectorAll(`.${_.self.CSSClasses.dayBtnHover}`).forEach(t=>{var l;t.classList.remove(_.self.CSSClasses.dayBtnHover),(l=t.parentElement)==null||l.classList.remove(e.dayHoverIntermediate,e.dayHoverFirst,e.dayHoverLast)})},se=(a,e,t)=>{var l,n,r;if(!((l=_.self)!=null&&l.selectedDates))return;let d=g(a),{CSSClasses:i}=_.self;if((n=_.self.rangeDisabled)!=null&&n.includes(d))return;let c=(r=_.self.HTMLElement)==null?void 0:r.querySelectorAll(`[data-calendar-day="${d}"]`);c?.forEach(o=>{var s;o.classList.add(i.dayBtnHover),(s=o.parentElement)==null||s.classList.add(i.dayHoverIntermediate)}),e?.forEach(o=>{var s;return(s=o.parentElement)==null?void 0:s.classList.add(i.dayHoverFirst)}),t?.forEach(o=>{var s;return(s=o.parentElement)==null?void 0:s.classList.add(i.dayHoverLast)})},A=a=>{var e;if(!a.target||!((e=_.self)!=null&&e.selectedDates))return;if(!a.target.closest(`.${_.self.CSSClasses.days}`))return void X();let t=a.target.closest("[data-calendar-day]");if(!t)return;let l=t.dataset.calendarDay,n=m(_.self.selectedDates[0]),r=m(l),d=_.self.HTMLElement.querySelectorAll(`[data-calendar-day="${_.self.selectedDates[0]}"]`),i=_.self.HTMLElement.querySelectorAll(`[data-calendar-day="${l}"]`),[c,o]=n<r?[d,i]:[i,d],[s,h]=n<r?[n,r]:[r,n];X();for(let b=new Date(s);b<=h;b.setDate(b.getDate()+1))se(b,c,o)},I=a=>{_.self&&a.key==="Escape"&&(_.self.selectedDates=[],_.self.HTMLElement.removeEventListener("mousemove",A),document.removeEventListener("keydown",I),C(_.self))},oe=()=>{var a,e,t;if(!((e=(a=_.self)==null?void 0:a.selectedDates)!=null&&e[0])||!_.self.rangeDisabled||((t=_.self.rangeDisabled)==null?void 0:t.length)<2)return;let l=m(_.self.selectedDates[0]),[n,r]=_.self.rangeDisabled.map(d=>m(d)).reduce(([d,i],c)=>[l>=c?c:d,l<c&&i===null?c:i],[null,null]);n&&(_.self.rangeMin=g(new Date(n.setDate(n.getDate()+1)))),r&&(_.self.rangeMax=g(new Date(r.setDate(r.getDate()-1))))};var oa=(a,e)=>{var t;if(e){let l=a.selectedDates.length===1&&a.selectedDates[0].includes(e);a.selectedDates=l&&!a.settings.selection.cancelableDay?[e,e]:l&&a.settings.selection.cancelableDay?[]:a.selectedDates.length>1?[e]:[...a.selectedDates,e],(t=a.selectedDates)==null||t.sort((n,r)=>+new Date(n)-+new Date(r))}a.settings.range.disableGaps&&(_.rangeMin=_.rangeMin?_.rangeMin:a.rangeMin,_.rangeMax=_.rangeMax?_.rangeMax:a.rangeMax),_.self=a,{set:()=>{a.HTMLElement.addEventListener("mousemove",A),document.addEventListener("keydown",I),a.settings.range.disableGaps&&oe()},reset:()=>{let[l,n]=[a.selectedDates[0],a.selectedDates[a.selectedDates.length-1]];a.selectedDates=a.selectedDates[0]!==a.selectedDates[a.selectedDates.length-1]?M([`${l}:${n}`]):[a.selectedDates[0],a.selectedDates[0]],a.HTMLElement.removeEventListener("mousemove",A),document.removeEventListener("keydown",I),a.settings.range.disableGaps&&_.self&&(_.self.rangeMin=_.rangeMin,_.self.rangeMax=_.rangeMax)}}[a.selectedDates.length===1?"set":"reset"]()},aa=(a,e,t)=>{if(!e.dataset.calendarDay)return;let l=e.dataset.calendarDay,n=e.classList.contains(a.CSSClasses.dayBtnSelected);n&&!a.settings.selection.cancelableDay||(a.selectedDates=n?a.selectedDates.filter(r=>r!==l):t?[...a.selectedDates,l]:[l])},_e=(a,e)=>{var t;let l=e.target,n=c=>l.closest(`.${c}`),r=n(a.CSSClasses.dayBtn);if(!a.settings.selection.day||!["single","multiple","multiple-ranged"].includes(a.settings.selection.day)||!r)return;({single:()=>aa(a,r,!1),multiple:()=>aa(a,r,!0),"multiple-ranged":()=>oa(a,r.dataset.calendarDay)})[a.settings.selection.day](),(t=a.selectedDates)==null||t.sort((c,o)=>+new Date(c)-+new Date(o)),a.actions.clickDay&&a.actions.clickDay(e,a),a.input&&a.HTMLInputElement&&a.HTMLElement&&a.actions.changeToInput&&a.actions.changeToInput(e,k(a),a);let d=n(a.CSSClasses.dayBtnPrev),i=n(a.CSSClasses.dayBtnNext);({prev:()=>N(a,"prev"),next:()=>N(a,"next"),default:()=>D(a)})[d?"prev":i?"next":"default"]()},ea=(a,e,t,l,n)=>{let r=a.HTMLElement.querySelectorAll(`.${a.CSSClasses.column}`),d=[...r].findIndex(c=>c.classList.contains(e)),i=Number(r[d].querySelector(`.${t}`).getAttribute(n));return a.currentType==="month"&&d>=0?l-d:a.currentType==="year"&&a.selectedYear!==i?l-1:l},ve=(a,e,t,l,n)=>{let r={year:()=>{var d,i;return(i=(d=a.actions).clickYear)==null?void 0:i.call(d,e,a)},month:()=>{var d,i;return(i=(d=a.actions).clickMonth)==null?void 0:i.call(d,e,a)}};({year:()=>{if(a.type==="multiple"){let d=ea(a,a.CSSClasses.columnYear,a.CSSClasses.year,Number(n.dataset.calendarYear),"data-calendar-selected-year"),i=a.selectedMonth<a.dateMin.getMonth()&&d<=a.dateMin.getFullYear(),c=a.selectedMonth>a.dateMax.getMonth()&&d>=a.dateMax.getFullYear(),o=d<a.dateMin.getFullYear(),s=d>a.dateMax.getFullYear();i||o?(a.selectedYear=a.dateMin.getFullYear(),a.selectedMonth=a.dateMin.getMonth()):c||s?(a.selectedYear=a.dateMax.getFullYear(),a.selectedMonth=a.dateMax.getMonth()):a.selectedYear=d}else a.selectedYear=Number(n.dataset.calendarYear)},month:()=>{if(a.type==="multiple"){let d=ea(a,a.CSSClasses.columnMonth,a.CSSClasses.month,Number(n.dataset.calendarMonth),"data-calendar-selected-month"),i=n.closest(`.${l.column}`).querySelector(`.${a.CSSClasses.year}`);a.selectedYear=Number(i.dataset.calendarSelectedYear);let c=d<a.dateMin.getMonth()&&a.selectedYear<=a.dateMin.getFullYear(),o=d>a.dateMax.getMonth()&&a.selectedYear>=a.dateMax.getFullYear();a.selectedMonth=c?a.dateMin.getMonth():o?a.dateMax.getMonth():d}else a.selectedMonth=Number(n.dataset.calendarMonth)}})[t](),r[t](),a.currentType=a.type,C(a)},ta=(a,e,t,l)=>{if(!a.settings.selection[t])return;let n=e.target,r=s=>n.closest(`.${s}`),d=r(l.header),i=r(l.item),c=r(a.CSSClasses.grid),o=r(a.CSSClasses.column);a.currentType!==t&&d?{year:()=>F(a,n),month:()=>ia(a,n)}[t]():i?ve(a,e,t,l,i):(a.currentType===t&&d||a.type==="multiple"&&a.currentType===t&&c&&!o)&&(a.currentType=a.type,C(a))},_a=a=>{let e=t=>{Ua(a,t),Ja(a,t),_e(a,t),ta(a,t,"month",{header:a.CSSClasses.month,item:a.CSSClasses.monthsMonth,column:a.CSSClasses.columnMonth}),ta(a,t,"year",{header:a.CSSClasses.year,item:a.CSSClasses.yearsYear,column:a.CSSClasses.columnYear})};return a.HTMLElement.addEventListener("click",e),()=>a.HTMLElement.removeEventListener("click",e)},va=(a,{year:e,month:t,dates:l,holidays:n,time:r}={})=>{var d;if(!a.isInit)throw new Error(w.notInit);let i=la({},a.settings.selected);a.settings.selected.year=e?i.year:a.selectedYear,a.settings.selected.month=t?i.month:a.selectedMonth,a.settings.selected.holidays=n?i.holidays:a.selectedHolidays,a.settings.selected.time=r?i.time:a.selectedTime,a.settings.selected.dates=l==="only-first"&&((d=a.selectedDates)!=null&&d[0])?[a.selectedDates[0]]:l===!0?i.dates:a.selectedDates,na(a),C(a),a.settings.selected=i,a.settings.selection.day==="multiple-ranged"&&l&&oa(a)},E=(a,e,t,l)=>{let n={top:-e.offsetHeight,bottom:a.offsetHeight,left:0,center:a.offsetWidth/2-e.offsetWidth/2,right:a.offsetWidth-e.offsetWidth},r=Array.isArray(t)?t[0]:"bottom",d=Array.isArray(t)?t[1]:t;e.classList.add(r==="bottom"?l.calendarToInputBottom:l.calendarToInputTop);let i=a.getBoundingClientRect(),c=window.scrollX||document.documentElement.scrollLeft,o=window.scrollY||document.documentElement.scrollTop,s=i.top+o+n[r],h=i.left+c+n[d];Object.assign(e.style,{left:`${h}px`,top:`${s}px`})},he=a=>{let e=!0,t=[];a.HTMLInputElement=a.HTMLElement;let l=()=>E(a.HTMLInputElement,a.HTMLElement,a.settings.visibility.positionToInput,a.CSSClasses),n=r=>{var d;a&&r.target!==a.HTMLInputElement&&!((d=a.HTMLElement)!=null&&d.contains(r.target))&&(a.HTMLInputElement&&a.HTMLElement&&k(a).hide(),window.removeEventListener("resize",l),document.removeEventListener("click",n,{capture:!0}))};return a.HTMLInputElement.addEventListener("click",()=>{e?t.push((()=>{let r=document.createElement("div");return r.className=`${a.CSSClasses.calendar} ${a.CSSClasses.calendarToInput} ${a.CSSClasses.calendarHidden}`,a.HTMLElement=r,document.body.append(a.HTMLElement),e=!1,setTimeout(()=>{E(a.HTMLInputElement,r,a.settings.visibility.positionToInput,a.CSSClasses),k(a).show()},0),va(a,{year:!0,month:!0,dates:!0,holidays:!0,time:!0}),_a(a)})()):(E(a.HTMLInputElement,a.HTMLElement,a.settings.visibility.positionToInput,a.CSSClasses),k(a).show()),window.addEventListener("resize",l),document.addEventListener("click",n,{capture:!0})}),()=>{t.forEach(r=>r())}};var me=a=>{var e,t,l,n;if(!a.isInit)throw new Error(w.notInit);a.input?((t=(e=a.HTMLElement)==null?void 0:e.parentElement)==null||t.removeChild(a.HTMLElement),(l=a.HTMLInputElement)==null||l.replaceWith(a.HTMLOriginalElement),a.HTMLInputElement=void 0):(n=a.HTMLElement)==null||n.replaceWith(a.HTMLOriginalElement),a.HTMLElement=a.HTMLOriginalElement},L=class extends Y{constructor(e,t){if(super(),v(this,"init",()=>{return(n=this).HTMLOriginalElement=n.HTMLElement.cloneNode(!0),n.isInit=!0,n.input?he(n):(na(n),C(n),_a(n));var n}),v(this,"update",n=>va(this,n)),v(this,"destroy",()=>me(this)),this.HTMLElement=typeof e=="string"?document.querySelector(e):e,!this.HTMLElement)throw new Error(w.notFoundSelector(e));if(!t)return;let l=(n,r)=>{Object.keys(r).forEach(d=>{typeof n[d]!="object"||typeof r[d]!="object"||r[d]instanceof Date?n[d]=r[d]:l(n[d],r[d])})};l(this,t)}};function be({state:a,isLive:e,isLiveDebounced:t,isLiveOnBlur:l,liveDebounce:n,type:r,months:d,jumpMonths:i,date:c,settings:o}){return{state:a,vanillaCalendar:null,currentCalendarInstance:null,init:function(){this.state===null||this.state===""||this.setState(this.state);let s={type:r,months:d,jumpMonths:i,date:c,settings:o,input:!0,actions:{changeToInput:(h,b,y)=>{y.HTMLInputElement&&(this.currentCalendarInstance=b,y.selectedDates[0]?(y.HTMLInputElement.value=y.selectedDates[0],this.currentCalendarInstance.hide()):y.HTMLInputElement.value="")},clickDay:(h,b)=>{this.prepareState(b.selectedDates,b.selectedTime),this.currentCalendarInstance?.hide()},changeTime:(h,b)=>{this.prepareState(b.selectedDates,b.selectedTime)}}};(e||t||l)&&new MutationObserver(()=>this.isOpen()?null:this.commitState()).observe(this.$refs.vanillaCalendar,{attributes:!0,childList:!0}),this.vanillaCalendar=new L(this.$refs.vanillaCalendar,s),this.vanillaCalendar.init()},prepareState:function(s,h){let b=typeof s<"u"&&s.length>0?s[0]:this.currentDate(),y=typeof h<"u"?h:new Date().getHours(),O=`${b} ${y}`;this.setState(O),!(l||!(e||t))&&setTimeout(()=>{this.state===O&&this.commitState()},t?n:250)},currentDate:function(){return new Date().toISOString().slice(0,10)},setState:function(s){this.state=s,this.$refs.vanillaCalendar.value=s},isOpen:function(){let s=document.querySelector(".vanilla-calendar");return typeof s>"u"?!1:s.classList.contains("vanilla-calendar_hidden")},commitState:function(){JSON.stringify(this.$wire.__instance.canonical)!==JSON.stringify(this.$wire.__instance.ephemeral)&&this.$wire.$commit()}}}export{be as default};
/*! Bundled license information:

vanilla-calendar-pro/build/vanilla-calendar.min.mjs:
  (*! name: vanilla-calendar-pro | url: https://github.com/uvarov-frontend/vanilla-calendar-pro *)
*/
